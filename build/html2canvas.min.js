/* 
 * html2canvas v0.27 <http://html2canvas.hertzen.com>
 * Copyright (c) 2011 Niklas von Hertzen. All rights reserved.
 * http://www.twitter.com/niklasvh 
 * 
 * Released under MIT License
 */
function html2canvas(a,b){this.opts=this.extendObj(b||{},{logging:!1,ready:function(a){document.body.appendChild(a.canvas)},storageReady:function(a){a.Renderer(a.contextStacks)},iframeDefault:"default",flashCanvasPath:"http://html2canvas.hertzen.com/external/flashcanvas/flashcanvas.js",renderViewport:!1,reorderZ:!0,throttle:!0,letterRendering:!1,proxyUrl:null,logger:function(a){window.console&&window.console.log?window.console.log(a):alert(a)},canvasWidth:0,canvasHeight:0,useOverflow:!0,renderOrder:"canvas flash html"});
this.element=a;this.imagesLoaded=0;this.images=[];this.fontData=[];this.numDraws=0;this.contextStacks=[];this.ignoreElements="IFRAME|OBJECT|PARAM";this.needReorder=!1;this.blockElements=/(BR|PARAM)/;this.pageOrigin=window.location.protocol+window.location.host;this.queue=[];this.ignoreRe=RegExp("("+this.ignoreElements+")");this.support={rangeBounds:!1};if(document.createRange){var c=document.createRange();if(c.getBoundingClientRect){var d=document.createElement("boundtest");d.style.height="123px";
d.style.display="block";document.getElementsByTagName("body")[0].appendChild(d);c.selectNode(d);if(c.getBoundingClientRect().height==123)this.support.rangeBounds=!0;document.getElementsByTagName("body")[0].removeChild(d)}}this.init();return this}
html2canvas.prototype.init=function(){var a=this;this.log("Finding background-images");this.images.push("start");this.getImages(this.element);this.log("Finding images");this.each(this.element.ownerDocument.images,function(b,c){a.preloadImage(a.getAttr(c,"src"))});this.images.splice(0,1);this.images.length===0&&this.start()};
html2canvas.prototype.start=function(){var a;if(this.images.length===0||this.imagesLoaded==this.images.length/2)this.log("Finished loading "+this.imagesLoaded+" images, Started parsing"),this.bodyOverflow=document.getElementsByTagName("body")[0].style.overflow,a=this.getDocumentDimension(),document.getElementsByTagName("body")[0].style.overflow="hidden",a=new this.storageContext(a[0],a[1]),a.opacity=this.getCSS(this.element,"opacity"),a=this.newElement(this.element,a),this.parseElement(this.element,
a)};html2canvas.prototype.stackingContext=function(a){this.canvas=document.createElement("canvas");this.canvas.width=a;this.canvas.height=a;if(this.canvas.getContext)this.ctx=this.canvas.getContext("2d");this.ctx.textBaseline="bottom";return this.ctx};
html2canvas.prototype.storageContext=function(a,b){this.storage=[];this.width=a;this.height=b;this.fillRect=function(a,b,e,f){this.storage.push({type:"function",name:"fillRect",arguments:[a,b,e,f]})};this.drawImage=function(a,b,e,f,g,i,h,j,k){this.storage.push({type:"function",name:"drawImage",arguments:[a,b,e,f,g,i,h,j,k]})};this.fillText=function(a,b,e){this.storage.push({type:"function",name:"fillText",arguments:[a,b,e]})};return this};
html2canvas.prototype.finish=function(){this.log("Finished rendering");document.getElementsByTagName("body")[0].style.overflow=this.bodyOverflow;this.opts.ready(this)};
html2canvas.prototype.drawBackground=function(a,b,c){var d=this.getCSS(a,"backgroundImage").split(",")[0],e=this.getCSS(a,"backgroundRepeat").split(",")[0];if(typeof d!="undefined"&&!/^(1|none)$/.test(d)&&!/^(-webkit|-moz|linear-gradient|-o-)/.test(d)){var d=this.backgroundImageUrl(d),f=this.loadImage(d),a=this.getBackgroundPosition(a,b,f);if(f)switch(e){case "repeat-x":this.drawbackgroundRepeatX(c,f,a,b.left,b.top,b.width,b.height);break;case "repeat-y":this.drawbackgroundRepeatY(c,f,a,b.left,b.top,
b.width,b.height);break;case "no-repeat":var d=b.width-a.left,e=b.height-a.top,g=a.left,i=a.top,h=a.left+b.left,j=a.top+b.top;g<0?(g=Math.abs(g),h+=g,d=Math.min(b.width,f.width-g)):(d=Math.min(d,f.width),g=0);i<0?(i=Math.abs(i),j+=i,e=Math.min(b.height,f.height-i)):(e=Math.min(e,f.height),i=0);if(e>0&&d>0){this.drawImage(c,f,g,i,d,e,h,j,d,e);break}default:a.top-=Math.ceil(a.top/f.height)*f.height;for(d=b.top+a.top;d<b.height+b.top;)e=Math.min(f.height,b.height+b.top-d),e=Math.floor(d+f.height)>e+
d?e+d-d:f.height,d<b.top?(g=b.top-d,d=b.top):g=0,this.drawbackgroundRepeatX(c,f,a,b.left,d,b.width,e),g>0&&(a.top+=g),d=Math.floor(d+f.height)-g}else this.log("Error loading background:"+d)}};html2canvas.prototype.backgroundImageUrl=function(a){a.substr(0,5)=='url("'?(a=a.substr(5),a=a.substr(0,a.length-2)):(a=a.substr(4),a=a.substr(0,a.length-1));return a};
html2canvas.prototype.getBackgroundPosition=function(a,b,c){var d=(this.getCSS(a,"backgroundPosition").split(",")[0]||"0 0").split(" "),e;d.length==1&&(d=[d,d]);d[0].toString().indexOf("%")!=-1?(e=parseFloat(d[0])/100,a=b.width*e-c.width*e):a=parseInt(d[0],10);d[1].toString().indexOf("%")!=-1?(e=parseFloat(d[1])/100,b=b.height*e-c.height*e):b=parseInt(d[1],10);c={};c.top=b;c.left=a;return c};
html2canvas.prototype.drawbackgroundRepeatY=function(a,b,c,d,e,f,g){var i=Math.min(b.width,f),h;c.top-=Math.ceil(c.top/b.height)*b.height;for(h=e+c.top;h<g+e;)f=Math.floor(h+b.height)>g+e?g+e-h:b.height,this.drawBackgroundRepeat(a,b,d+c.left,h,i,f,d,e),h=Math.floor(h+b.height)};
html2canvas.prototype.drawbackgroundRepeatX=function(a,b,c,d,e,f,g){var g=Math.min(b.height,g),i,h;c.left-=Math.ceil(c.left/b.width)*b.width;for(h=d+c.left;h<f+d;)i=Math.floor(h+b.width)>f+d?f+d-h:b.width,this.drawBackgroundRepeat(a,b,h,e+c.top,i,g,d,e),h=Math.floor(h+b.width)};html2canvas.prototype.drawBackgroundRepeat=function(a,b,c,d,e,f,g,i){var h=0,j=0;g-c>0&&(h=g-c);i-d>0&&(j=i-d);this.drawImage(a,b,h,j,e-h,f-j,c+h,d+j,e-h,f-j)};
html2canvas.prototype.getBorderData=function(a){var b=[],c=this;this.each(["Top","Right","Bottom","Left"],function(d,e){b.push({width:c.getCSS(a,"border"+e+"Width",!0),color:c.getCSS(a,"border"+e+"Color")})});return b};
html2canvas.prototype.drawBorders=function(a,b,c,d){var e=c.left,f=c.top,g=c.width,i=c.height,h=this.getBorderData(a),j=this;this.each(h,function(a,c){if(c.width>0){var l=e,o=f,m=g,p=i-h[2].width;switch(a){case 0:p=h[0].width;break;case 1:l=e+g-h[1].width;m=h[1].width;break;case 2:o=o+i-h[2].width;p=h[2].width;break;case 3:m=h[3].width}m={left:l,top:o,width:m,height:p};d&&(m=j.clipBounds(m,d));m.width>0&&m.height>0&&j.newRect(b,l,o,m.width,m.height,c.color)}});return h};
html2canvas.prototype.newElement=function(a,b){var c=this.getBounds(a),d=c.left,e=c.top,f=c.width,g=c.height,i;i=this.getCSS(a,"backgroundColor");var h=this.getCSS(a,"position"),b=b||{},j=this.setZ(this.getCSS(a,"zIndex"),h,b.zIndex,a.parentNode),k=this.getCSS(a,"opacity"),h={ctx:new this.storageContext,zIndex:j,opacity:k*b.opacity,cssPosition:h};if(b.clip){h.clip={};for(var n in b.clip)h.clip[n]=b.clip[n];h.clip.height-=b.borders[2].width}if(this.opts.useOverflow&&/(hidden|scroll|auto)/.test(this.getCSS(a,
"overflow"))&&!/(BODY)/i.test(a.nodeName))h.clip=h.clip?this.clipBounds(h.clip,c):c;n=j.children.push(h);k=j.children[n-1].ctx;this.setContextVariable(k,"globalAlpha",h.opacity);var l=this.drawBorders(a,k,c,!1);h.borders=l;this.ignoreRe.test(a.nodeName)&&this.opts.iframeDefault!="transparent"&&(i=this.opts.iframeDefault=="default"?"#efefef":this.opts.iframeDefault);f={left:d+l[3].width,top:e+l[0].width,width:f-(l[1].width+l[3].width),height:g-(l[0].width+l[2].width)};h.clip&&(f=this.clipBounds(f,
h.clip));f.height>0&&f.width>0&&(this.newRect(k,f.left,f.top,f.width,f.height,i),this.drawBackground(a,f,k));switch(a.nodeName){case "IMG":(i=this.loadImage(this.getAttr(a,"src")))?this.drawImage(k,i,0,0,i.width,i.height,d+this.getCSS(a,"paddingLeft",!0)+l[3].width,e+this.getCSS(a,"paddingTop",!0)+l[0].width,c.width-(l[1].width+l[3].width+this.getCSS(a,"paddingLeft",!0)+this.getCSS(a,"paddingRight",!0)),c.height-(l[0].width+l[2].width+this.getCSS(a,"paddingTop",!0)+this.getCSS(a,"paddingBottom",!0))):
this.log("Error loading <img>:"+this.getAttr(a,"src"));break;case "INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&a.value.length>0&&this.renderFormValue(a,c,h);break;case "TEXTAREA":a.value.length>0&&this.renderFormValue(a,c,h);break;case "SELECT":a.options.length>0&&this.renderFormValue(a,c,h);break;case "LI":this.drawListItem(a,h,f)}return j.children[n-1]};html2canvas.prototype.printText=function(a,b,c,d){this.trim(a).length>0&&(d.fillText(a,b,c),this.numDraws++)};
html2canvas.prototype.newRect=function(a,b,c,d,e,f){f!="transparent"&&(this.setContextVariable(a,"fillStyle",f),a.fillRect(b,c,d,e),this.numDraws++)};html2canvas.prototype.drawImage=function(a,b,c,d,e,f,g,i,h,j){a.drawImage(b,c,d,e,f,g,i,h,j);this.numDraws++};
html2canvas.prototype.renderFormValue=function(a,b,c){var d=document.createElement("valuewrap"),e=this,f=document.body;e.each(["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],function(b,c){d.style[c]=e.getCSS(a,c)});d.style.borderColor="black";d.style.borderStyle="solid";d.style.display="block";d.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(a.type)||a.nodeName=="SELECT")d.style.lineHeight=
e.getCSS(a,"height");d.style.top=b.top+"px";d.style.left=b.left+"px";b=document.createTextNode(a.nodeName=="SELECT"?a.options[a.selectedIndex].text:a.value);d.appendChild(b);f.appendChild(d);e.newText(a,b,c);f.removeChild(d)};
html2canvas.prototype.getImages=function(a){var b=this;b.ignoreRe.test(a.nodeName)||b.each(a.childNodes,function(a,d){b.ignoreRe.test(d.nodeName)||b.getImages(d)});if(a.nodeType==1||typeof a.nodeType=="undefined")(a=this.getCSS(a,"backgroundImage"))&&a!="1"&&a!="none"&&a.substring(0,7)!="-webkit"&&a.substring(0,3)!="-o-"&&a.substring(0,4)!="-moz"&&this.preloadImage(this.backgroundImageUrl(a.split(",")[0]))};
html2canvas.prototype.loadImage=function(a){a=this.getIndex(this.images,a);return a!=-1?this.images[a+1]:!1};html2canvas.prototype.preloadImage=function(a){var b=this,c;if(b.getIndex(this.images,a)==-1)b.isSameOrigin(a)?(b.images.push(a),c=new Image,c.onload=function(){b.imagesLoaded++;b.start()},c.onerror=function(){b.images.splice(b.images.indexOf(c.src),2);b.start()},c.src=a,b.images.push(c)):this.opts.proxyUrl&&(b.images.push(a),c=new Image,b.proxyGetImage(a,c),b.images.push(c))};
html2canvas.jsonp_counter=0;
html2canvas.prototype.proxyGetImage=function(a,b){var c=this,d,e=c.opts.proxyUrl,a=c.getLinkElement(a).href;html2canvas.jsonp_counter+=1;d="html2canvas_"+html2canvas.jsonp_counter;e+=e.indexOf("?")>-1?"&":"?";e+="url="+encodeURIComponent(a)+"&callback="+d;window[d]=function(e){e.substring(0,6)=="error:"?(c.images.splice(c.images.indexOf(a),2),c.start(),c.log("Proxy was unable to load "+a+" "+e)):(b.onload=function(){c.imagesLoaded++;c.start()},b.src=e);delete window[d]};var f=document.createElement("script");
f.setAttribute("src",e);f.setAttribute("type","text/javascript");document.body.appendChild(f)};html2canvas.prototype.Renderer=function(a){var b=this;this.log("Renderer initiated");this.each(this.opts.renderOrder.split(" "),function(c,d){switch(d){case "canvas":b.canvas=document.createElement("canvas");if(b.canvas.getContext)return b.canvasRenderer(a),b.log("Using canvas renderer"),!1;break;case "html":return b.log("Using HTML renderer"),!1}});return this};html2canvas.prototype.throttler=function(){};
html2canvas.prototype.canvasRenderContext=function(a,b){b.textBaseline="bottom";var c=this;a.clip&&(b.save(),b.beginPath(),b.rect(a.clip.left,a.clip.top,a.clip.width,a.clip.height),b.clip());a.ctx.storage&&c.each(a.ctx.storage,function(a,e){switch(e.type){case "variable":b[e.name]=e.arguments;break;case "function":e.name=="fillRect"?b.fillRect(e.arguments[0],e.arguments[1],e.arguments[2],e.arguments[3]):e.name=="fillText"?b.fillText(e.arguments[0],e.arguments[1],e.arguments[2]):e.name=="drawImage"?
e.arguments[8]>0&&e.arguments[7]&&b.drawImage(e.arguments[0],e.arguments[1],e.arguments[2],e.arguments[3],e.arguments[4],e.arguments[5],e.arguments[6],e.arguments[7],e.arguments[8]):c.log(e)}});a.clip&&b.restore()};html2canvas.prototype.canvasRenderStorage=function(a,b){for(;0<a.length;){var c=a.splice(0,1)[0];c.canvasPosition=c.canvasPosition||{};this.canvasRenderContext(c,b)}};
html2canvas.prototype.canvasRenderer=function(a){var b=this.getDocumentDimension();this.sortZ(this.zStack);a=this.queue;this.canvas.width=Math.max(b[0],this.opts.canvasWidth);this.canvas.height=Math.max(b[1],this.opts.canvasHeight);this.ctx=this.canvas.getContext("2d");this.canvasRenderStorage(a,this.ctx)};html2canvas.prototype.setContextVariable=function(a,b,c){a.storage?a.storage.push({type:"variable",name:b,arguments:c}):a[b]=c};
html2canvas.prototype.drawListItem=function(a,b,c){var d=this.getCSS(a,"listStylePosition",!1);this.getListItem(a);var e=this.getCSS(a,"listStyleType",!1);if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(e)){var f=this.getIndex(a.parentNode.childNodes,a)+1,g;e=="decimal"?g=f:e=="decimal-leading-zero"?g=f.toString().length==1?"0"+f.toString():f.toString():e=="upper-roman"?g=this.getListRoman(f):e=="lower-roman"?g=this.getListRoman(f).toLowerCase():
e=="lower-alpha"?g=this.getListAlpha(f).toLowerCase():e=="upper-alpha"&&(g=this.getListAlpha(f));g+=". ";e=this.getListPosition(a,g);if(d=="inside")this.setFont(b.ctx,a,!1),a=c.left,c=e.bottom,this.printText(g,a,c,b.ctx)}};
html2canvas.prototype.getListPosition=function(a,b){var c=document.createElement("boundelement");c.style.display="inline";var d=a.style.listStyleType;a.style.listStyleType="none";c.appendChild(document.createTextNode(b));a.insertBefore(c,a.firstChild);var e=this.getBounds(c);a.removeChild(c);a.style.listStyleType=d;return e};html2canvas.prototype.getListItem=function(){};html2canvas.prototype.getListAlpha=function(a){var b="";do b=String.fromCharCode(a%26+64)+b,a/=26;while(a*26>26);return b};
html2canvas.prototype.getListRoman=function(a){var b=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],c=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],d="";if(a<=0||a>=4E3)return d;for(var e=0;e<b.length;e++)for(;a>=c[e];)a-=c[e],d+=b[e];return d};
html2canvas.prototype.newText=function(a,b,c){var c=c.ctx,d=this.getCSS(a,"fontFamily"),e=this.getCSS(a,"fontSize"),f=this.getCSS(a,"color"),g=this.getCSS(a,"textDecoration"),i=this.getCSS(a,"textAlign"),h=this.getCSS(a,"letterSpacing");b.nodeValue=this.textTransform(b.nodeValue,this.getCSS(a,"textTransform"));var j,k={};if(this.trim(b.nodeValue).length>0){g!="none"&&(j=this.fontMetrics(d,e));i=i.replace(["-webkit-auto"],["auto"]);d=!this.opts.letterRendering&&/^(left|right|justify|auto)$/.test(i)&&
/^(normal|none)$/.test(h)?b.nodeValue.split(/(\b| )/):b.nodeValue.split("");this.setFont(c,a,!1);a=b;for(e=0;e<d.length;e++)if(typeof a.nodeValue=="string"){b=a.splitText(d[e].length);if(g!="none"||this.trim(a.nodeValue).length!==0){if(this.support.rangeBounds)document.createRange?(i=document.createRange(),i.selectNode(a)):i=document.body.createTextRange(),i.getBoundingClientRect()&&(k=i.getBoundingClientRect());else{var i=a.parentNode,h=document.createElement("wrapper"),n=a.cloneNode(!0);h.appendChild(a.cloneNode(!0));
i.replaceChild(h,a);k=this.getBounds(h);i.replaceChild(n,h)}this.printText(a.nodeValue,k.left,k.bottom,c);switch(g){case "underline":this.newRect(c,k.left,Math.round(k.top+j.baseline+j.lineWidth),k.width,1,f);break;case "overline":this.newRect(c,k.left,k.top,k.width,1,f);break;case "line-through":this.newRect(c,k.left,Math.ceil(k.top+j.middle+j.lineWidth),k.width,1,f)}}a=b}}};
html2canvas.prototype.setFont=function(a,b,c){var d=this.getCSS(b,"fontFamily"),e=this.getCSS(b,"fontSize"),f=this.getCSS(b,"color"),g=this.getCSS(b,"fontWeight"),i=this.getCSS(b,"fontStyle"),b=this.getCSS(b,"fontVariant");switch(g){case 401:g="bold";break;case 400:g="normal"}d=b+" "+g+" "+i+" "+e+" "+d;this.setContextVariable(a,"fillStyle",f);this.setContextVariable(a,"font",d);c?this.setContextVariable(a,"textAlign","right"):this.setContextVariable(a,"textAlign","left")};
html2canvas.prototype.fontMetrics=function(a,b){var c,d=this.getIndex(this.fontData,a+"-"+b);if(d>-1)return this.fontData[d+1];d=document.createElement("div");document.body.appendChild(d);var e={visibility:"hidden",fontFamily:a,fontSize:b,margin:"0",padding:"0"};for(c in e)this.setCSS(d,c,e[c]);var f=document.createElement("img");f.src="http://html2canvas.hertzen.com/images/8.jpg";f.width=1;f.height=1;this.setCSS(f,"margin","0");this.setCSS(f,"padding","0");var g=document.createElement("span"),e=
{fontFamily:a,fontSize:b,margin:"0",padding:"0"};for(c in e)this.setCSS(g,c,e[c]);g.appendChild(document.createTextNode("Hidden Text"));d.appendChild(g);d.appendChild(f);c=f.offsetTop-g.offsetTop+1;d.removeChild(g);d.appendChild(document.createTextNode("Hidden Text"));this.setCSS(d,"lineHeight","normal");this.setCSS(f,"verticalAlign","super");c={baseline:c,lineWidth:1,middle:f.offsetTop-d.offsetTop+1};this.fontData.push(a+"-"+b);this.fontData.push(c);document.body.removeChild(d);return c};
html2canvas.prototype.textTransform=function(a,b){switch(b){case "lowercase":return a.toLowerCase();case "capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(a,b,e){return b+e.toUpperCase()});case "uppercase":return a.toUpperCase()}return a};html2canvas.prototype.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")};
html2canvas.prototype.parseElement=function(a,b){var c=this;this.each(a.children,function(a,e){c.parsing(e,b)});this.log("Render queue stored");this.opts.storageReady(this);this.finish()};html2canvas.prototype.parsing=function(a,b){if(this.getCSS(a,"display")!="none"&&this.getCSS(a,"visibility")!="hidden"){var c=this,b=this.newElement(a,b)||b;this.ignoreRe.test(a.nodeName)||this.each(this.contentsInZ(a),function(d,e){e.nodeType==1?c.parsing(e,b):e.nodeType==3&&c.newText(a,e,b)})}};
html2canvas.support=function(){var a={},b=document.createElement("div");b.style.width=b.style.paddingLeft="1px";a.boxModel=b.offsetWidth===2;return a}();html2canvas.prototype.log=function(a){this.opts.logging&&this.opts.logger(a)};html2canvas.prototype.withinBounds=function(a,b){return!a?!0:(a.left<=b.left||b.left+b.width<a.left)&&(a.top<=b.top||b.top+b.height<a.top)};
html2canvas.prototype.clipBounds=function(a,b){var c=Math.max(a.left,b.left),d=Math.max(a.top,b.top);return{left:c,top:d,width:Math.min(a.left+a.width,b.left+b.width)-c,height:Math.min(a.top+a.height,b.top+b.height)-d}};
html2canvas.prototype.getBounds=function(a){window.scroll(0,0);if(a.getBoundingClientRect)return a=a.getBoundingClientRect(),{top:a.top,bottom:a.bottom||a.top+a.height,left:a.left,width:a.width,height:a.height};else{var b=this.offset(a);return{left:b.left+this.getCSS(a,"borderLeftWidth",!0),top:b.top+this.getCSS(a,"borderTopWidth",!0),width:this.inner("width",a),height:this.inner("height",a)}}};html2canvas.prototype.each=function(a,b){for(var b=b||function(){},c=0;c<a.length;c++)if(b(c,a[c])===!1)break};
html2canvas.prototype.contentsInZ=function(a){return a.childNodes};html2canvas.prototype.getAttr=function(a,b){return a.getAttribute(b)};html2canvas.prototype.extendObj=function(a,b){for(var c in a)b[c]=a[c];return b};html2canvas.prototype.zContext=function(a){return{zindex:a,children:[]}};html2canvas.prototype.setZ=function(a,b,c){return!c?this.zStack=new this.zContext(0):a!="auto"?(this.needReorder=!0,a=new this.zContext(a),c.children.push(a),a):c};
html2canvas.prototype.sortZ=function(a){var b=[],c=[],d=this;this.each(a.children,function(a,f){f.children&&f.children.length>0?(b.push(f),c.push(f.zindex)):d.queue.push(f)});c.sort(function(a,b){return a-b});this.each(c,function(a,c){for(var g=0;g<=b.length;g++)if(b[g].zindex==c){g=b.splice(g,1);d.sortZ(g[0]);break}})};html2canvas.prototype.getContents=function(a){return a.nodeName=="iframe"?a.contentDocument||a.contentWindow.document:a.childNodes};
html2canvas.prototype.getCSS=function(){return"jQuery"in window?function(a,b,c){a=jQuery(a).css(b);return c?parseInt(a,10):a}:function(a,b,c){var d;a.currentStyle?d=a.currentStyle[b]:window.getComputedStyle&&(d=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));return c?parseInt(d,10):d}}();html2canvas.prototype.setCSS=function(a,b,c){a.style[b]=c};html2canvas.prototype.inner=function(a,b){return a&&a.style?parseFloat(jQuery.css(a,b,"padding")):null};
html2canvas.prototype.getDocumentDimension=function(){var a=jQuery(document);return[a.width(),a.height()]};html2canvas.prototype.contains=function(){return document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1}}();
html2canvas.prototype.getWindow=function(a){return a&&typeof a==="object"&&"setInterval"in a?a:a.nodeType===9?a.defaultView||a.parentWindow:!1};
html2canvas.prototype.offset=function(){return"jQuery"in window?function(a){return jQuery(a).offset()}:"getBoundingClientRect"in document.documentElement?function(a){var b;if(!a||!a.ownerDocument)return null;if(a===a.ownerDocument.body)return jQuery.offset.bodyOffset(a);try{b=a.getBoundingClientRect()}catch(c){}var d=a.ownerDocument,e=d.documentElement;if(!b||!this.contains(e,a))return b?{top:b.top,left:b.left}:{top:0,left:0};a=d.body;d=this.getWindow(d);return{top:b.top+(d.pageYOffset||html2canvas.support.boxModel&&
e.scrollTop||a.scrollTop)-(e.clientTop||a.clientTop||0),left:b.left+(d.pageXOffset||html2canvas.support.boxModel&&e.scrollLeft||a.scrollLeft)-(e.clientLeft||a.clientLeft||0)}}:function(){return null}}();html2canvas.prototype.getIndex=function(){var a=Array.prototype.indexOf;return a?function(b,c){return a.call(b,c)}:function(a,c){for(var d=0;d<a.length;d+=1)if(a[d]==c)return d;return-1}}();
html2canvas.prototype.getLinkElement=function(a){if(!this.tempA)this.tempA=document.createElement("a");this.tempA.href=a;return this.tempA};html2canvas.prototype.isSameOrigin=function(a){a=this.getLinkElement(a);return a.protocol+a.host==this.pageOrigin};
